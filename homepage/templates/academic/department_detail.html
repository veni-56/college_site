{% extends 'homepage/base.html' %}
{% load static %}
{% block fullwidth %}

<style>
  /* Divider line below heading */
  .divider-line {
    width: 80px;
    height: 4px;
    background-color: #84e9848e; /* Dark Green */
    margin-top: 5px;
    margin-bottom: 20px;
    border-radius: 2px;
  }

  /* Heading Color */
  .custom-heading {
    color:#004080;  /* Dark Green or change this to your preferred color */
    font-weight: bold;
  }

  /* Tab styling */
  .nav-tabs .nav-link {
    font-weight: 600;
    color: #004080;
    border-radius: 0;
  }

  .nav-tabs .nav-link.active {
    background-color: #004080;
    color: white !important;
    border: none;
  }

  .tab-pane {
    animation: fadeIn 0.4s ease-in-out;
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }

  @media (max-width: 768px) {
    .tab-pane img {
      margin-top: 15px;
    }
  }
</style>

<div class="container mt-4">
  <!-- Sub-navbar Tabs -->
  <ul class="nav nav-tabs mt-4">
    {% for key in content %}
      <li class="nav-item">
        <a class="nav-link {% if forloop.first %}active{% endif %}" data-bs-toggle="tab" href="#{{ key }}">
          {{ key|capfirst }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <!-- Tab Contents -->
  <div class="tab-content mt-4">
    {% for key, items in content.items %}
      <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" id="{{ key }}">

        {% for item in items %}
        <div class="row align-items-center mb-5">
          <!-- Text block -->
          <div class="{% if item.image %}col-md-7{% else %}col-12{% endif %}">
            {% if item.heading %}
              <h4 class="custom-heading mb-2">{{ item.heading }}</h4>
              <div class="divider-line"></div>
            {% endif %}
            {% if item.content %}
              <p class="text-dark" style="text-align: justify; font-size: 17px; line-height: 1.8;">
                {{ item.content|linebreaks }}
              </p>
            {% endif %}

            {% if item.table_html %}
              <div class="table-responsive mt-3">
                {{ item.table_html|safe }}
              </div>
            {% endif %}

            {% if item.pdf %}
              <a href="{{ item.pdf.url }}" target="_blank" class="btn btn-outline-primary btn-sm mt-3">
                Download PDF
              </a>
            {% endif %}
          </div>

          <!-- Image block -->
          {% if item.image %}
          <div class="col-md-5 text-center mt-4 mt-md-0">
            <img src="{{ item.image.url }}" class="img-fluid rounded shadow" alt="{{ item.heading }}">
          </div>
          {% endif %}
        </div>
        <hr>
        {% endfor %}

      </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
